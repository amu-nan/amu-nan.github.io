<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Consolidation & Unification</title>
    <link rel="stylesheet" href="app.css">
    <link rel="stylesheet" href="consolidate-files.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

    <div class="page-container">
        <section class="consolidate-section">
            <h1 class="page-title">Unify & Consolidate Files</h1>
            <p class="page-intro">
                Select your source files and integrated enterprise systems to create a consolidated and unified data asset for advanced analytics and reporting.
            </p>

            <div class="options-grid" id="options-grid">
                
                <div class="option-card" id="engineering-tile">
                    <h2><i class="fas fa-upload"></i> Upload Engineering Files</h2>
                    <p>Upload large proprietary files (e.g., CAD, project plans, sensor logs) directly from your local machine.</p>
                    
                    <div class="file-upload-box" id="file-upload-box">
                        <input type="file" id="file-input" class="file-input" multiple accept=".pdf,.doc,.docx,.xls,.xlsx,.csv,.txt,.json,.xml" />
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Drag & drop files here, or **click to browse**</p>
                        <p class="file-upload-info">Maximum 5 files, 50MB total.</p>
                    </div>

                    <div class="image-preview-container" style="display: none;">
                        <ul class="file-list" id="file-list">
                            </ul>
                        <button class="reset-upload-btn" id="reset-upload-btn" data-system="engineering">Remove All</button>
                    </div>

                    <div class="upload-status" id="upload-status"></div>
                </div>

                <div class="option-card add-system-card" id="add-system-card">
                    <h2><i class="fas fa-plus-circle"></i> Add Enterprise System</h2>
                    <p>Connect and integrate data from additional enterprise platforms (CRM, ERP, etc.)</p>
                </div>

                </div>
            
            <hr>

            <div class="process-button-container">
                <button class="process-button" id="process-button" disabled>
                    <i class="fas fa-cogs"></i> Start Unification Process
                </button>
            </div>

            <div class="processing-info" id="processing-info">
                <div class="loading-spinner"></div>
                <p>Processing files and systems...</p>
                <p class="unify-message" id="unify-message">Analyzing connections and preparing data model.</p>
            </div>

            <div class="success-message" id="success-message">
                <i class="fas fa-check-circle"></i> Data Unification Complete!
            </div>

        </section>
    </div>

    <div id="system-modal" class="modal-overlay" style="display:none;">
        <div class="modal-content">
            <h3>Connect Enterprise System</h3>
            <p>Select the enterprise system and the specific modules you wish to consolidate data from.</p>

            <div class="system-input-group">
                <label for="system-select">Choose System:</label>
                <select id="system-select" class="system-select">
                    <option value="" disabled selected>-- Select a System --</option>
                    <option value="crm">CRM System (Salesforce)</option>
                    <option value="erp">ERP System (SAP/Oracle)</option>
                    <option value="plm">PLM System (Teamcenter)</option>
                </select>
                <p class="api-status" id="api-status" style="display:none;">API Connection Status: Error</p>
            </div>
            
            <div id="modal-module-selection-container" style="display:none;">
                <label class="module-label">Select Modules for Integration:</label>

                <div class="module-group" data-system="crm" style="display:none;">
                    <label><input type="checkbox" name="module-crm" value="accounts"> Accounts</label>
                    <label><input type="checkbox" name="module-crm" value="opportunities"> Opportunities</label>
                    <label><input type="checkbox" name="module-crm" value="contacts"> Contacts</label>
                </div>
                
                <div class="module-group" data-system="erp" style="display:none;">
                    <label><input type="checkbox" name="module-erp" value="finance"> Finance & GL</label>
                    <label><input type="checkbox" name="module-erp" value="inventory"> Inventory</label>
                    <label><input type="checkbox" name="module-erp" value="procurement"> Procurement</label>
                </div>
                
                <div class="module-group" data-system="plm" style="display:none;">
                    <label><input type="checkbox" name="module-plm" value="bom"> Bill of Materials (BOM)</label>
                    <label><input type="checkbox" name="module-plm" value="documents"> Design Documents</label>
                    <label><input type="checkbox" name="module-plm" value="changes"> Change Management</label>
                </div>
                
                <div class="module-file-upload file-upload-box" id="plm-file-upload-box" style="display:none;">
                    <input type="file" id="plm-file-input" class="file-input" accept=".xml,.txt" />
                    <i class="fas fa-file-export"></i>
                    <p>Upload System Export File (for PLM demo)</p>
                    <ul class="file-list" id="module-file-list"></ul>
                </div>

            </div>

            <button id="moduleIntegrateBtn" class="modal-btn" disabled>
                <i class="fas fa-link"></i> Integrate System
            </button>
            <button id="modal-close-btn" class="modal-btn modal-close-btn">
                Close
            </button>
        </div>
    </div>

    <script src="consolidate-files.js"></script>
</body>
</html>
